#§DB基礎
##1. DB概要
###1-1. DBとは  
DB(データベース)とは一定のルールで管理されたデータの集合体のことを指し、一般的に複数の表でデータ同士の関係を定義し、管理するRDB(リレーショナルデータベース)を指します。
RDBを管理するソフトウェアをリレーショナルデータベースマネージメントシステム(RDBMS)と言います。

###1-2. DBの種類  
現在以下のRDBMSが市場の大部分のシェアを占めています。  
・Oracle  
・MySQL  
・Microsoft SQL Server  
・DB2  
・PostgreSQL  

同じRDMBSでも信頼性、拡張性、高可用性などシステムに求められる要件や予算に応じて商用やオープンソースのRDBMSが選定され、使用されています。  

商用RDBMSの代表的なものがOracleやDB2となり、大規模で堅牢性の高いシステムで用いられることが多く、大企業を中心に幅広く利用されています。  

オープンソースのRDBMSの代表的なものはMySQLやPostgreSQLとなり、大企業や中小企業問わず幅広く利用されており、小規模なシステムから大規模なシステムまで用途も様々です。  

###1-3. DB使用例
実際にシステム上ではどのように使用されているかの具体例(フォームで登録されたデータを格納、それを参照してなんとかみたいなイメージが分かるようなものを図で説明)

##2. MySQL操作
ここではMySQLの使用方法について説明します。  
以降の説明は全てMySQLログイン後のコマンドライン上の操作となります。

- MySQLログイン方法  
① コマンドラインで以下を入力  
mysql -u(ユーザ名) -p  
②パスワードを入力  
「Enter password:」と表示されるので、パスワードを入力する。  
ログインが成功すると、Welcomeメッセージが表示され、プロンプト「mysql>」が表示されます。  

- MySQLログアウト方法  
コマンドライン上で「quit」もしくは、「\q」と入力し、Enterキー押下。  

###2-1. DB作成、選択(useコマンド)
RDBMSはデータベースという入れ物の中にテーブル(表)があり、そのテーブルの中にデータが格納されるという構成となります。  
MySQLをインストールすると、デフォルトでmysql,information_schemaなどの管理用DBが作成されていますが、
アプリケーションで使用する為のDBをまずは作成する必要があります。  

- 新規データベース作成コマンド  
create database (データベース名);

- 作成したデータベースへのアクセス  
use (データベース名);

###2-2. DB、テーブルの一覧表示コマンド(show databases, show tables)
既存のものや新規作成したものなど、アクセスしたMySQLにどのようなDBがあり、どのようなテーブルが格納されているかについて以下のコマンドで確認が出来ます。  

- データベース一覧表示コマンド  
show databases;  

- テーブル一覧表示コマンド(※対象のDBを事前にuseで指定する必要があります)
show tables;  

###2-3. テーブル定義の確認コマンド(desc)
テーブルに格納されているデータを確認する方法は後述しますが、どのような定義のテーブルにデータが入っているのかを以下のコマンドで確認できます。  

- テーブル定義確認コマンド  
desc (テーブル名);  

###2-4. アカウント作成・削除、権限付与・削除
各DBにアクセスするアカウントを作成し、利用可能な操作(権限)を設定することが出来ます。  
作成したアカウントは削除、権限のみの変更も可能です。  
実際に公開するシステムの場合は、セキュリティ、データ保護の観点から、用途に応じた必要最低限のアカウント作成、権限に抑えることに留意して下さい。

- アカウント作成コマンド  
create user (ユーザ名) identified by '(パスワード)';  

- 権限付与コマンド
grant (権限名) on (対象DB).(対象テーブル) to (対象ユーザ名);  
※付与可能な権限はMySQL公式ページを参照(https://dev.mysql.com/doc/refman/5.6/ja/privileges-provided.html)

- 権限削除コマンド
revoke (権限名) on (対象DB).(対象テーブル) from (対象ユーザ名);  

- 現在の権限の確認コマンド
show grants for (対象ユーザ名);

- アカウント削除コマンド
drop user (対象ユーザ名);

###2-5. アカウントの権限の種類について
###2-6. SQLの実行(SQL実行、出力結果整形等(\G))

##3.テーブル定義、データ操作基礎
テーブルの作成や更新、削除方法及び、テーブルを使用したデータ操作について説明。

###DDL
テーブル作成や変更方法、削除などの基本的なDDLについて説明

- テーブル作成
- テーブル定義変更
- テーブル削除
- データ型(varchar, int, date, datetime, timestamp, text, blob, enum)
- Not NUll制約
- デフォルト値
- キー制約(Primary Key, Unique Key, Foreign Key)
- Index
- Auto Increment

###DML
テーブルに格納されているデータの登録、検索、更新、削除等の基本的なDMLについて説明。

- INSERT
- SELECT
- UPDATE
- DELETE
- 条件指定(WHERE句,AND, OR, NOT NULL, LIKE, BETWEEN)
- グループ化(GROUP BY, HAVING句)
- 順序指定(ORDER BY句)
- 取得件数、取得位置指定(LIMIT, OFFSET句)
- テーブル結合(JOIN)
- 関数(SUM, AVG, MAX, MIN, NOW)
- その他(AS, DISTINCT)

---
#§DB応用
##1. テーブルの種類について
MyISAM, InnoDBの違いについて

##2. データ取り込み、出力
dumpやcsvデータの出力や取り込みについて説明。

##3. 高度なデータ操作
### トランザクション制御(commit, rollback)
auto commitやトランザクションの制御方法について説明。

### 副問合せ
副問合せについて説明。

### データ登録or更新(ON DUPLICATE KEY UPDATE)
使用方法について説明。

##3. その他(ここあたりは不要かも)
パフォーマンスチューニング系
- Explain
- レプリケーション
- パーティショニング

DDLその他
- Trigger
- View

---
#RubyとDBの連携(Active Record)
##1. Active Recordとは
- Active Record、ORMについて
- 使用ルールについて(命名規則など)

##2. Active Recordによるデータ操作
- データ操作方法について(CRUD)
- バリデーションについて
- コールバックについて
- マイグレーションについて



↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓ 作成中 ↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓
#実践、課題案
※基本的なSQLのCRUDの習得にはテストデータが予めあった方が取り組みやすいので、事前に課題用のDB、テーブル、データ一式を用意して、dumpデータとして学習環境に取り込んでもらい、それに対して課題を消化してもらう想定。
##★
- practice.userテーブルから住所が東京のデータのみを抽出せよ。
- practice.userテーブルから住所が北海道でメールアドレスを持っていないユーザのみを抽出せよ。
- COUNT関数を使用して、埼玉県が登録住所のユーザの数を出力せよ

##★★
##★★★
- COUNT関数、GROUP BY句を使用して、都道府県別のが登録ユーザの数を出力せよ

##★★★★
##★★★★★
